import{_ as P}from"./HyjSaNXY.js";import R from"./CNnkJJjr.js";import{_ as U,s as E,f as V,x as H,u as q,r as x,g as F,y as j,z as O,c as n,i as c,j as o,a as t,e as G,b as g,w as T,t as r,F as y,k as b,d as h,o as i,q as z}from"./BEQmsZ6Q.js";import{u as I,q as L}from"./CzdIV_mV.js";import"./Q5yn4ucs.js";import"./BSZFgSs5.js";import"./B8IaAclc.js";import"./U187zO9b.js";const J={key:0,class:"blog-post"},Z={class:"post-hero"},K={class:"container"},Q={class:"breadcrumb"},W={class:"breadcrumb-current"},X={class:"post-header"},Y={class:"post-category"},tt={class:"post-title"},st={class:"post-description"},et={class:"post-meta"},ot={key:0,class:"author-section"},at=["src","alt"],nt={class:"author-info"},it={class:"author-name"},rt={class:"author-title"},lt={class:"post-stats"},ct={key:0,class:"stat"},dt={class:"stat-value"},ut={key:1,class:"stat"},_t={class:"stat-value"},ht={class:"stat"},pt={class:"stat-value"},vt={key:0,class:"featured-image"},mt={class:"container"},gt=["src","alt"],yt={class:"post-content"},bt={class:"container"},ft={class:"content-wrapper"},kt={key:0,class:"table-of-contents"},wt={class:"toc-sticky"},Ct={class:"toc-nav"},xt=["href","onClick"],Tt={key:0},Bt=["href","onClick"],$t={class:"article-content"},At={class:"prose"},Mt={key:0,class:"post-tags"},St={class:"tags-list"},Vt={class:"share-section"},zt={class:"share-buttons"},It=["href"],Lt=["href"],Nt={key:1,class:"related-posts"},Dt={class:"container"},Pt={class:"related-grid"},Rt={class:"post-image"},Ut=["src","alt"],Et={class:"post-content"},Ht={class:"post-category"},qt={class:"post-title"},Ft={class:"post-description"},jt={class:"post-meta"},Ot={class:"post-date"},Gt={class:"read-time"},Jt={key:1,class:"loading-state"},Zt={key:2,class:"error-state"},Kt={class:"container"},Qt={class:"error-content"},Wt={__name:"[...slug]",async setup(Xt){let d,p;const v=E(),f=Array.isArray(v.params.slug)?v.params.slug.join("/"):v.params.slug,{data:e,pending:B,error:$}=([d,p]=V(()=>I(`blog-${f}`,()=>L("blog",f).findOne())),d=await d,p(),d);if(!e.value&&!B.value&&!$.value)throw H({statusCode:404,statusMessage:"Blog post not found"});q(()=>({title:e.value?`${e.value.title} - Zafran Ullah`:"Blog Post",meta:[{name:"description",content:e.value?.description||""},{property:"og:title",content:e.value?.title||""},{property:"og:description",content:e.value?.description||""},{property:"og:type",content:"article"},{property:"og:image",content:e.value?.image||""},{property:"article:published_time",content:e.value?.publishedAt||""},{property:"article:author",content:e.value?.authors?.[0]?.name||""},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:title",content:e.value?.title||""},{name:"twitter:description",content:e.value?.description||""},{name:"twitter:image",content:e.value?.image||""}]}));const k=x(""),N=x(Math.floor(Math.random()*1e3)+100),w=x(!1),{data:C}=([d,p]=V(()=>I("related-posts",()=>e.value?L("blog").where({_path:{$ne:`/blog/${f}`},category:e.value.category}).limit(3).find():Promise.resolve([]))),d=await d,p(),d),A=F(()=>{const l=encodeURIComponent(`https://zafranullah.dev${v.path}`),s=encodeURIComponent(e.value?.title||"Blog Post");return{twitter:`https://twitter.com/intent/tweet?url=${l}&text=${s}`,linkedin:`https://www.linkedin.com/sharing/share-offsite/?url=${l}`}}),M=l=>new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),S=l=>{const s=document.getElementById(l);s&&s.scrollIntoView({behavior:"smooth"})},D=async()=>{try{await navigator.clipboard.writeText(window.location.href),w.value=!0,setTimeout(()=>{w.value=!1},2e3)}catch(l){console.error("Failed to copy: ",l)}};return j(()=>{const l=document.querySelectorAll("h2, h3"),s=new IntersectionObserver(u=>{u.forEach(m=>{m.isIntersecting&&(k.value=m.target.id)})},{rootMargin:"-20% 0% -35% 0%"});l.forEach(u=>s.observe(u)),O(()=>s.disconnect())}),(l,s)=>{const u=P,m=R;return o(e)?(i(),n("div",J,[t("section",Z,[t("div",K,[t("div",Q,[g(u,{to:"/",class:"breadcrumb-link"},{default:T(()=>s[0]||(s[0]=[h("Blog",-1)])),_:1,__:[0]}),s[1]||(s[1]=t("span",{class:"breadcrumb-separator"},"→",-1)),t("span",W,r(o(e).title),1)]),t("div",X,[t("div",Y,r(o(e).category),1),t("h1",tt,r(o(e).title),1),t("p",st,r(o(e).description),1),t("div",et,[o(e).authors&&o(e).authors[0]?(i(),n("div",ot,[t("img",{src:o(e).authors[0].avatar,alt:o(e).authors[0].name,class:"author-avatar"},null,8,at),t("div",nt,[t("div",it,r(o(e).authors[0].name),1),t("div",rt,r(o(e).authors[0].bio),1)])])):c("",!0),t("div",lt,[o(e).publishedAt?(i(),n("div",ct,[s[2]||(s[2]=t("span",{class:"stat-label"},"Published",-1)),t("span",dt,r(M(o(e).publishedAt)),1)])):c("",!0),o(e).readTime?(i(),n("div",ut,[s[3]||(s[3]=t("span",{class:"stat-label"},"Read Time",-1)),t("span",_t,r(o(e).readTime),1)])):c("",!0),t("div",ht,[s[4]||(s[4]=t("span",{class:"stat-label"},"Views",-1)),t("span",pt,r(o(N)),1)])])])])])]),o(e).image?(i(),n("section",vt,[t("div",mt,[t("img",{src:o(e).image,alt:o(e).title,class:"post-image"},null,8,gt)])])):c("",!0),t("section",yt,[t("div",bt,[t("div",ft,[o(e).body?.toc?.links?(i(),n("aside",kt,[t("div",wt,[s[5]||(s[5]=t("h3",null,"Table of Contents",-1)),t("nav",Ct,[t("ul",null,[(i(!0),n(y,null,b(o(e).body.toc.links,a=>(i(),n("li",{key:a.id},[t("a",{href:`#${a.id}`,class:z({active:o(k)===a.id}),onClick:_=>S(a.id)},r(a.text),11,xt),a.children?(i(),n("ul",Tt,[(i(!0),n(y,null,b(a.children,_=>(i(),n("li",{key:_.id},[t("a",{href:`#${_.id}`,class:z({active:o(k)===_.id}),onClick:Yt=>S(_.id)},r(_.text),11,Bt)]))),128))])):c("",!0)]))),128))])])])])):c("",!0),t("main",$t,[t("div",At,[g(m,{value:o(e)},null,8,["value"])]),o(e).tags&&o(e).tags.length>0?(i(),n("div",Mt,[s[6]||(s[6]=t("h4",null,"Tags",-1)),t("div",St,[(i(!0),n(y,null,b(o(e).tags,a=>(i(),n("span",{key:a,class:"tag"},r(a),1))),128))])])):c("",!0),t("div",Vt,[s[10]||(s[10]=t("h4",null,"Share this article",-1)),t("div",zt,[t("a",{href:o(A).twitter,target:"_blank",rel:"noopener",class:"share-btn twitter","aria-label":"Share on Twitter"},s[7]||(s[7]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor"},[t("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})],-1),h(" Twitter ",-1)]),8,It),t("a",{href:o(A).linkedin,target:"_blank",rel:"noopener",class:"share-btn linkedin","aria-label":"Share on LinkedIn"},s[8]||(s[8]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor"},[t("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})],-1),h(" LinkedIn ",-1)]),8,Lt),t("button",{onClick:D,class:"share-btn copy","aria-label":"Copy link"},[s[9]||(s[9]=t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),t("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})],-1)),h(" "+r(o(w)?"Copied!":"Copy Link"),1)])])])])])])]),o(C)&&o(C).length>0?(i(),n("section",Nt,[t("div",Dt,[s[11]||(s[11]=t("h3",null,"Related Articles",-1)),t("div",Pt,[(i(!0),n(y,null,b(o(C),a=>(i(),n("article",{key:a._path,class:"related-post"},[g(u,{to:a._path,class:"post-link"},{default:T(()=>[t("div",Rt,[t("img",{src:a.image||"/images/default-blog.jpg",alt:a.title},null,8,Ut)]),t("div",Et,[t("div",Ht,r(a.category),1),t("h4",qt,r(a.title),1),t("p",Ft,r(a.description),1),t("div",jt,[t("span",Ot,r(M(a.publishedAt)),1),t("span",Gt,r(a.readTime),1)])])]),_:2},1032,["to"])]))),128))])])])):c("",!0),s[12]||(s[12]=G('<section class="comments-section" data-v-445835d4><div class="container" data-v-445835d4><div class="comments-wrapper" data-v-445835d4><h3 data-v-445835d4>Comments</h3><p class="comments-note" data-v-445835d4> Comments are powered by GitHub Discussions. <a href="#" target="_blank" rel="noopener" data-v-445835d4>Join the discussion</a></p><div class="comments-placeholder" data-v-445835d4><p data-v-445835d4>Comments integration coming soon!</p></div></div></div></section>',1))])):o(B)?(i(),n("div",Jt,s[13]||(s[13]=[t("div",{class:"container"},[t("div",{class:"loading-content"},[t("div",{class:"loading-spinner"}),t("p",null,"Loading blog post...")])],-1)]))):o($)?(i(),n("div",Zt,[t("div",Kt,[t("div",Qt,[s[15]||(s[15]=t("h1",null,"Post Not Found",-1)),s[16]||(s[16]=t("p",null,"The blog post you're looking for doesn't exist.",-1)),g(u,{to:"/",class:"back-link"},{default:T(()=>s[14]||(s[14]=[h("← Back to Blog",-1)])),_:1,__:[14]})])])])):c("",!0)}}},ls=U(Wt,[["__scopeId","data-v-445835d4"]]);export{ls as default};
